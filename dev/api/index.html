<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · WiNDCHousehold.jl</title><meta name="title" content="API Reference · WiNDCHousehold.jl"/><meta property="og:title" content="API Reference · WiNDCHousehold.jl"/><meta property="twitter:title" content="API Reference · WiNDCHousehold.jl"/><meta name="description" content="Documentation for WiNDCHousehold.jl."/><meta property="og:description" content="Documentation for WiNDCHousehold.jl."/><meta property="twitter:description" content="Documentation for WiNDCHousehold.jl."/><meta property="og:url" content="https://github.com/uw-windc/WiNDCHousehold.jl/api/"/><meta property="twitter:url" content="https://github.com/uw-windc/WiNDCHousehold.jl/api/"/><link rel="canonical" href="https://github.com/uw-windc/WiNDCHousehold.jl/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">WiNDCHousehold.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../">WiNDCHousehold</a></li></ul></li><li><span class="tocitem">API Reference</span><ul><li class="is-active"><a class="tocitem" href>API Reference</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API Reference</a></li><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/uw-windc/WiNDCHousehold.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><ul><li><a href="#WiNDCHousehold.HouseholdTable"><code>WiNDCHousehold.HouseholdTable</code></a></li><li><a href="#WiNDCHousehold.NYSE_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.NYSE_data</code></a></li><li><a href="#WiNDCHousehold.absorption-Tuple{HouseholdTable}"><code>WiNDCHousehold.absorption</code></a></li><li><a href="#WiNDCHousehold.adjust_capital_demand-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.adjust_capital_demand</code></a></li><li><a href="#WiNDCHousehold.adjusted_capital_income-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.adjusted_capital_income</code></a></li><li><a href="#WiNDCHousehold.adjusted_consumption-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.adjusted_consumption</code></a></li><li><a href="#WiNDCHousehold.adjusted_wages-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.adjusted_wages</code></a></li><li><a href="#WiNDCHousehold.aggregate_transfer_payment-Tuple{HouseholdTable}"><code>WiNDCHousehold.aggregate_transfer_payment</code></a></li><li><a href="#WiNDCHousehold.armington_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.armington_data</code></a></li><li><a href="#WiNDCHousehold.average_labor_tax_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.average_labor_tax_rate</code></a></li><li><a href="#WiNDCHousehold.build_household_table-Tuple{WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.build_household_table</code></a></li><li><a href="#WiNDCHousehold.build_transfer_payments-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.build_transfer_payments</code></a></li><li><a href="#WiNDCHousehold.calibration_model_1-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.calibration_model_1</code></a></li><li><a href="#WiNDCHousehold.calibration_model_2-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData, JuMP.Model}"><code>WiNDCHousehold.calibration_model_2</code></a></li><li><a href="#WiNDCHousehold.capital_stock_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.capital_stock_data</code></a></li><li><a href="#WiNDCHousehold.capital_tax_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.capital_tax_rate</code></a></li><li><a href="#WiNDCHousehold.clean_aggregate_medi_data-Tuple{DataFrames.DataFrame}"><code>WiNDCHousehold.clean_aggregate_medi_data</code></a></li><li><a href="#WiNDCHousehold.clean_cps_data_year-NTuple{4, Any}"><code>WiNDCHousehold.clean_cps_data_year</code></a></li><li><a href="#WiNDCHousehold.compute_economy_wide_savings-Tuple{WiNDCRegional.State}"><code>WiNDCHousehold.compute_economy_wide_savings</code></a></li><li><a href="#WiNDCHousehold.compute_savings_markup_consumption-Tuple{WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.compute_savings_markup_consumption</code></a></li><li><a href="#WiNDCHousehold.compute_savings_markup_save-Tuple{HouseholdTable, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.compute_savings_markup_save</code></a></li><li><a href="#WiNDCHousehold.compute_savings_rate-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.compute_savings_rate</code></a></li><li><a href="#WiNDCHousehold.consumption_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.consumption_data</code></a></li><li><a href="#WiNDCHousehold.cpi_data-Tuple{HouseholdTable}"><code>WiNDCHousehold.cpi_data</code></a></li><li><a href="#WiNDCHousehold.cps_vs_nipa_income_categories-Tuple{DataFrames.DataFrame, DataFrames.DataFrame}"><code>WiNDCHousehold.cps_vs_nipa_income_categories</code></a></li><li><a href="#WiNDCHousehold.create_personal_consumption-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData, JuMP.Model}"><code>WiNDCHousehold.create_personal_consumption</code></a></li><li><a href="#WiNDCHousehold.disposition_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.disposition_data</code></a></li><li><a href="#WiNDCHousehold.duty_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.duty_rate</code></a></li><li><a href="#WiNDCHousehold.fetch_zip_data-Tuple{String, Function}"><code>WiNDCHousehold.fetch_zip_data</code></a></li><li><a href="#WiNDCHousehold.fica_tax_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.fica_tax_rate</code></a></li><li><a href="#WiNDCHousehold.get_capital_ownership-Tuple{WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.get_capital_ownership</code></a></li><li><a href="#WiNDCHousehold.get_cps_data_api-Tuple{Any, Any, Any}"><code>WiNDCHousehold.get_cps_data_api</code></a></li><li><a href="#WiNDCHousehold.government_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.government_data</code></a></li><li><a href="#WiNDCHousehold.government_deficit-Tuple{HouseholdTable}"><code>WiNDCHousehold.government_deficit</code></a></li><li><a href="#WiNDCHousehold.initialize_table-Tuple{WiNDCRegional.State}"><code>WiNDCHousehold.initialize_table</code></a></li><li><a href="#WiNDCHousehold.invest_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.invest_data</code></a></li><li><a href="#WiNDCHousehold.labor_endowment_multiplier-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.labor_endowment_multiplier</code></a></li><li><a href="#WiNDCHousehold.labor_supply-Tuple{HouseholdTable}"><code>WiNDCHousehold.labor_supply</code></a></li><li><a href="#WiNDCHousehold.leisure_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.leisure_data</code></a></li><li><a href="#WiNDCHousehold.leisure_demand-Tuple{HouseholdTable}"><code>WiNDCHousehold.leisure_demand</code></a></li><li><a href="#WiNDCHousehold.load_acs_data_api-Tuple{Int64, Any}"><code>WiNDCHousehold.load_acs_data_api</code></a></li><li><a href="#WiNDCHousehold.load_acs_medicare_data-Tuple{String}"><code>WiNDCHousehold.load_acs_medicare_data</code></a></li><li><a href="#WiNDCHousehold.load_capital_tax_rates-Tuple{String}"><code>WiNDCHousehold.load_capital_tax_rates</code></a></li><li><a href="#WiNDCHousehold.load_cps_data_api-Tuple{Any}"><code>WiNDCHousehold.load_cps_data_api</code></a></li><li><a href="#WiNDCHousehold.load_labor_tax_rates-Tuple{String}"><code>WiNDCHousehold.load_labor_tax_rates</code></a></li><li><a href="#WiNDCHousehold.load_medicare_data-Tuple{String}"><code>WiNDCHousehold.load_medicare_data</code></a></li><li><a href="#WiNDCHousehold.load_nipa_data_api-Tuple{Vector{Int64}, Any}"><code>WiNDCHousehold.load_nipa_data_api</code></a></li><li><a href="#WiNDCHousehold.load_state_fips-Tuple{}"><code>WiNDCHousehold.load_state_fips</code></a></li><li><a href="#WiNDCHousehold.margin_supply_demand-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.margin_supply_demand</code></a></li><li><a href="#WiNDCHousehold.marginal_labor_tax_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.marginal_labor_tax_rate</code></a></li><li><a href="#WiNDCHousehold.netports-Tuple{HouseholdTable}"><code>WiNDCHousehold.netports</code></a></li><li><a href="#WiNDCHousehold.nipa_fringe_benefit_markup-Tuple{DataFrames.DataFrame}"><code>WiNDCHousehold.nipa_fringe_benefit_markup</code></a></li><li><a href="#WiNDCHousehold.other_income-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.other_income</code></a></li><li><a href="#WiNDCHousehold.output_tax_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.output_tax_rate</code></a></li><li><a href="#WiNDCHousehold.regional_local_supply-Tuple{HouseholdTable}"><code>WiNDCHousehold.regional_local_supply</code></a></li><li><a href="#WiNDCHousehold.regional_national_supply-Tuple{HouseholdTable}"><code>WiNDCHousehold.regional_national_supply</code></a></li><li><a href="#WiNDCHousehold.representative_agent_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.representative_agent_data</code></a></li><li><a href="#WiNDCHousehold.saverate_data-Tuple{HouseholdTable}"><code>WiNDCHousehold.saverate_data</code></a></li><li><a href="#WiNDCHousehold.sectoral_output-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.sectoral_output</code></a></li><li><a href="#WiNDCHousehold.ssk_data-Tuple{HouseholdTable}"><code>WiNDCHousehold.ssk_data</code></a></li><li><a href="#WiNDCHousehold.tax_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.tax_rate</code></a></li><li><a href="#WiNDCHousehold.total_supply-Tuple{HouseholdTable}"><code>WiNDCHousehold.total_supply</code></a></li><li><a href="#WiNDCHousehold.trans_data-Tuple{HouseholdTable}"><code>WiNDCHousehold.trans_data</code></a></li><li><a href="#WiNDCHousehold.transfer_weights-Tuple{WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.transfer_weights</code></a></li><li><a href="#WiNDCHousehold.windc_vs_nipa_income_categories-Tuple{WiNDCRegional.State, DataFrames.DataFrame}"><code>WiNDCHousehold.windc_vs_nipa_income_categories</code></a></li></ul><article><details class="docstring" open="true"><summary id="WiNDCHousehold.HouseholdTable"><a class="docstring-binding" href="#WiNDCHousehold.HouseholdTable"><code>WiNDCHousehold.HouseholdTable</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Household</code></pre><p>The primary container for WiNDC household disaggregation data tables. There are  three fields, all dataframes:</p><ul><li><code>data</code>: The main data table.</li><li><code>sets</code>: The sets table, describing the different sets used in the model.</li><li><code>elements</code>: The elements table, describing the different elements in the model.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/structs.jl#L8-L16">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.NYSE_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><a class="docstring-binding" href="#WiNDCHousehold.NYSE_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.NYSE_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">NYSE_data(data::T, output = :DataFrame) where T&lt;:AbstractHouseholdTable</code></pre><p>Extracts NYSE-related parameters from the regional data table.</p><pre><code class="language-julia hljs">    table(data, 
        :Household_Supply,
        :Capital_Demand;
        normalize=:Use
    )</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L502-L514">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.absorption-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.absorption-Tuple{HouseholdTable}"><code>WiNDCHousehold.absorption</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">absorption(
    HH::HouseholdTable; 
    column::Symbol = :value, 
    output::Symbol = :value
)</code></pre><p>Calculate the absorption for each commodity in each region. The absorption is  defined as the sum of:</p><ul><li><code>Intermediate_Demand</code></li><li><code>Other_Final_Demand</code></li></ul><p>Note that absorption is negative.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L68-L82">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.adjust_capital_demand-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.adjust_capital_demand-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.adjust_capital_demand</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">adjust_capital_demand(
    HH::HouseholdTable,
    state_table::State,
    raw_data::RawHouseholdData;
)</code></pre><p>Convert gross capital demand in the <code>state_table</code> to net capital demand by removing the capital tax based on state-level capital tax rates provided in <code>raw_data</code>.</p><p class="math-container">\[    {\rm Net\ Capital\ Demand} = \frac{\rm Gross\ Capital\ Demand}{1 + r}\]</p><p><strong>Raw Data</strong></p><ul><li><code>raw_data.capital_tax_rates</code> (State-level capital tax rates)</li></ul><p><strong>Parameters Disaggregated</strong></p><ul><li><code>Capital_Demand</code></li></ul><p><strong>Sets Added</strong></p><ul><li><code>capital_tax</code> <ul><li>Domain: <code>row</code></li><li>Description: &quot;Capital Tax&quot;</li><li>Elements: <code>cap_tax</code></li></ul></li><li><code>Capital_Tax</code> - From <code>state_table</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L187-L216">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.adjusted_capital_income-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.adjusted_capital_income-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.adjusted_capital_income</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">adjusted_capital_income(
    HH::HouseholdTable,
    state_table::WiNDCRegional.State,
    raw_data::RawHouseholdData
)</code></pre><p>Compute the adjusted capital income for each household in <code>HH</code> based on capital ownership and total capital demand.</p><p><strong>Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household table.</li><li><code>state_table::WiNDCRegional.State</code>: The state-level WiNDC table.</li><li><code>raw_data::RawHouseholdData</code>: The raw household data containing CPS data.</li></ul><p><strong>Returns</strong></p><ul><li><code>adjusted_capital::DataFrame</code>: A DataFrame with columns <code>:hh</code>, <code>:year</code>, <code>:state</code>, and <code>:capital</code> representing the adjusted capital income for each household.</li></ul><p><strong>Computation</strong></p><p>The adjusted capital income is computed using the formula:</p><p class="math-container">\[    {\rm Adjusted\ Capital\ Income} = {\rm Capital\ Ownership\ Share} \cdot {\rm Total\ Capital\ Demand} \cdot \frac{{\rm Interest\ Income}}{\sum_{hh}{\rm Interest\ Income}}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L976-L1004">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.adjusted_consumption-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.adjusted_consumption-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.adjusted_consumption</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">adjusted_consumption(
    HH::HouseholdTable,
    state_table::WiNDCRegional.State,
    raw_data::RawHouseholdData
)</code></pre><p>Compute the adjusted consumption for each household in <code>HH</code> based on consumption shares, personal consumption from <code>state_table</code>, and the household savings rate.</p><p><strong>Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household table.</li><li><code>state_table::WiNDCRegional.State</code>: The state-level WiNDC table.</li><li><code>raw_data::RawHouseholdData</code>: The raw household data containing CPS data.</li></ul><p><strong>Returns</strong></p><ul><li><code>adjusted_consumption::DataFrame</code>: A DataFrame with columns <code>:hh</code>, <code>:year</code>, <code>:state</code>, and <code>:consumption</code> representing the adjusted consumption for each household.</li></ul><p><strong>Computation</strong></p><p>The adjusted consumption is computed using the formula:</p><p class="math-container">\[    {\rm Adjusted\ Consumption} = \frac{{\rm Consumption\ Share} \cdot {\rm Personal\ Consumption}}{1 - {\rm Savings\ Rate}}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L719-L747">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.adjusted_wages-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.adjusted_wages-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.adjusted_wages</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">adjusted_wages(
    HH::HouseholdTable,
    state_table::WiNDCRegional.State,
    raw_data::RawHouseholdData;
    tax_adjustment::Bool = true
)</code></pre><p>Compute the adjusted wages for each household in <code>HH</code> based on labor endowment multipliers and labor tax rates.</p><p><strong>Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household table.</li><li><code>state_table::WiNDCRegional.State</code>: The state-level WiNDC table.</li><li><code>raw_data::RawHouseholdData</code>: The raw household data containing CPS data and labor tax rates.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>tax_adjustment::Bool = true</code>: Whether to apply labor tax adjustments.</li></ul><p><strong>Returns</strong></p><ul><li><code>adjusted_wages::DataFrame</code>: A DataFrame with columns <code>:hh</code>, <code>:year</code>, <code>:state</code>, and <code>:wage</code> representing the adjusted wages for each household.</li></ul><p><strong>Computation</strong></p><p>The adjusted wages are computed using the formula:</p><p class="math-container">\[    {\rm Adjusted\ Wage} = {\rm Wage\ Share} \cdot ({\rm tax\ adjustment}\cdot {\rm Labor\ Tax\ Rate} - 1) \cdot {\rm Labor\ Endowment\ Multiplier} \cdot \sum_{sectors}{\rm Labor\ Demand}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L890-L923">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.aggregate_transfer_payment-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.aggregate_transfer_payment-Tuple{HouseholdTable}"><code>WiNDCHousehold.aggregate_transfer_payment</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">aggregate_transfer_payment(
    HH::HouseholdTable; 
    column::Symbol = :value, 
    output::Symbol = :value,
    parameter = :total_transfers,
)</code></pre><p>Aggregate the transfer payments for each household type in each region.</p><p><strong>Required Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household data.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>column::Symbol = :value</code>: The column to be used for the aggregation.</li><li><code>output::Symbol = :value</code>: The name of the output column.</li><li><code>parameter::Symbol =</code>:total_transfers`: The name of the parameter column.</li></ul><p><strong>Returns</strong></p><p>A <code>DataFrame</code> with the aggregated transfer payments for each household type in each region.</p><p><strong>Calculation</strong></p><p>The total transfer payments are calculated as:</p><p class="math-container">\[{\rm Total\_Transfers} = \sum_{\rm transfers} {\rm Transfer\_Payment}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L671-L702">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.armington_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><a class="docstring-binding" href="#WiNDCHousehold.armington_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.armington_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">armington_data(data::T, output = :DataFrame) where T&lt;:AbstractHouseholdTable</code></pre><p>Extracts Armington-related parameters from the regional data table.</p><pre><code class="language-julia hljs">    vcat(
        absorption(data; normalize = true),
        table(data, :Reexport, :National_Demand, :Local_Demand, :Import, :Margin_Demand; normalize = :Use),
        tax_rate(data),
        duty_rate(data)
    )</code></pre><p><strong>Aggregate data</strong></p><ul><li><a href="#WiNDCHousehold.absorption-Tuple{HouseholdTable}"><code>WiNDCHousehold.absorption</code></a></li><li><a href="#WiNDCHousehold.tax_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.tax_rate</code></a></li><li><a href="#WiNDCHousehold.duty_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.duty_rate</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L298-L317">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.average_labor_tax_rate-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.average_labor_tax_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.average_labor_tax_rate</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">average_labor_tax_rate(
    HH::HouseholdTable; 
    column::Symbol = :value, 
    output::Symbol = :value,
    parameter = :average_labor_tax_rate,
)</code></pre><p>Calculate the average labor tax rate for each household type in each region. The average labor tax rate is defined as the ratio of <code>Average_Labor_Tax</code> to <code>Labor_Endowment</code>.</p><p><strong>Required Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household data.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>column::Symbol = :value</code>: The column to be used for the calculation.</li><li><code>output::Symbol = :value</code>: The name of the output column.</li><li><code>parameter::Symbol =</code>:average<em>labor</em>tax_rate`: The name of the parameter column.</li><li><code>minimal::Bool = false</code>: Whether to return a minimal output. If true, only the    essential columns are returned: [:col, :region, :year, :parameter, output].</li></ul><p><strong>Returns</strong></p><p>A <code>DataFrame</code> with the average labor tax rate for each household type in each region.</p><p><strong>Calculation</strong></p><p>The average labor tax rate is calculated as:</p><p class="math-container">\[{\rm Average\_Labor\_Tax\_Rate} = \frac{\rm Average\_Labor\_Tax}{\sum_{\rm Destinations} \rm Labor\_Endowment}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L501-L535">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.build_household_table-Tuple{WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.build_household_table-Tuple{WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.build_household_table</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">build_household_table(
        state_table::State,
        raw_data::RawHouseholdData;
    )</code></pre><p>Build a <code>HouseholdTable</code> from the given <code>state_table</code> and <code>raw_data</code>.</p><p><strong>Disaggregation Steps</strong></p><p>The disaggregation is performed through the following steps:</p><ol><li><a href="#WiNDCHousehold.initialize_table-Tuple{WiNDCRegional.State}"><code>WiNDCHousehold.initialize_table</code></a></li><li><a href="#WiNDCHousehold.adjust_capital_demand-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.adjust_capital_demand</code></a></li><li><a href="#WiNDCHousehold.build_transfer_payments-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.build_transfer_payments</code></a></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L147-L163">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.build_transfer_payments-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.build_transfer_payments-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.build_transfer_payments</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">build_transfer_payments(
    HH::HouseholdTable,
    raw_data::RawHouseholdData,
)</code></pre><p>Add transfer payments to the <code>HouseholdTable</code> <code>HH</code> based on the data in <code>raw_data</code>.</p><p><strong>Raw Data</strong></p><ul><li><a href="#WiNDCHousehold.transfer_weights-Tuple{WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.transfer_weights</code></a></li><li><code>raw_data.income</code> (CPS income data)</li><li><code>raw_data.medicare</code> (Medicare and Medicaid data)</li><li><code>raw_data.income_categories</code> (CPS income categories)</li></ul><p><strong>Sets Added</strong></p><ul><li><p><code>Transfer_Payment</code> </p><ul><li>Domain: <code>parameter</code></li><li>Description: &quot;Transfer Payments&quot;</li><li>Elements: <code>transfer_payment</code></li></ul></li><li><p><code>transfer_payments</code> </p><ul><li>Domain: <code>row</code></li><li>Description: &quot;Transfer Payments&quot;</li></ul></li></ul><table><tr><th style="text-align: right">Element</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>hucval</code></td><td style="text-align: right">unemployment compensation</td></tr><tr><td style="text-align: right"><code>hwcval</code></td><td style="text-align: right">workers compensation</td></tr><tr><td style="text-align: right"><code>hssval</code></td><td style="text-align: right">social security</td></tr><tr><td style="text-align: right"><code>hssival</code></td><td style="text-align: right">supplemental security</td></tr><tr><td style="text-align: right"><code>hpawval</code></td><td style="text-align: right">public assistance or welfare</td></tr><tr><td style="text-align: right"><code>hvetval</code></td><td style="text-align: right">veterans benefits</td></tr><tr><td style="text-align: right"><code>hsurval</code></td><td style="text-align: right">survivors income</td></tr><tr><td style="text-align: right"><code>hdisval</code></td><td style="text-align: right">disability</td></tr><tr><td style="text-align: right"><code>hedval</code></td><td style="text-align: right">educational assistance</td></tr><tr><td style="text-align: right"><code>hcspval</code></td><td style="text-align: right">child support</td></tr><tr><td style="text-align: right"><code>hfinval</code></td><td style="text-align: right">financial assistance</td></tr><tr><td style="text-align: right"><code>medicare</code></td><td style="text-align: right">edicare</td></tr><tr><td style="text-align: right"><code>medicaid</code></td><td style="text-align: right">edicaid</td></tr><tr><td style="text-align: right"><code>other</code></td><td style="text-align: right">Other Income</td></tr></table><div class="admonition is-info" id="note-e7fa24ac2a97cbcd"><header class="admonition-header"><a class="admonition-anchor" href="#note-e7fa24ac2a97cbcd" title="Permalink"></a></header><div class="admonition-body"><p>The year for medicare and medicaid is fixed at 2024. Need to update for more  years in the future.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L345-L391">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.calibration_model_1-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.calibration_model_1-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.calibration_model_1</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">calibration_model_1(HH::HouseholdTable, state_table::State, HH_Raw_Data::RawHouseholdData)</code></pre><p>This is a placeholder docstring. It has been intentionally left blank as this model can be simplified further.</p><p>To Do:</p><ol><li>Add errors if model fails to solve</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/calibration_model_1.jl#L1-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.calibration_model_2-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData, JuMP.Model}"><a class="docstring-binding" href="#WiNDCHousehold.calibration_model_2-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData, JuMP.Model}"><code>WiNDCHousehold.calibration_model_2</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">calibration_model_2(
    HH::HouseholdTable, 
    state_table::State, 
    HH_Raw_Data::RawHouseholdData,
    calibration_model_1::JuMP.Model
)</code></pre><p>This is a placeholder docstring. It has been intentionally left blank as this model can be simplified further.</p><p>To Do:</p><ol><li>Add errors if model fails to solve</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/calibration_model_2.jl#L1-L15">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.capital_stock_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><a class="docstring-binding" href="#WiNDCHousehold.capital_stock_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.capital_stock_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">capital_stock_data(data::T, output = :DataFrame) where T&lt;:AbstractHouseholdTable</code></pre><p>Extracts capital stock-related parameters from the regional data table.</p><pre><code class="language-julia hljs">    table(data, :Capital_Demand; normalize = :Use)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L425-L433">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.capital_tax_rate-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.capital_tax_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.capital_tax_rate</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">capital_tax_rate(
    HH::HouseholdTable; 
    column::Symbol = :value, 
    output::Symbol = :value,
    parameter = :capital_tax_rate,
)</code></pre><p>Calculate the capital tax rate for each household type in each region. The capital tax rate is defined as the ratio of <code>Capital_Tax</code> to <code>Capital_Demand</code>.</p><p><strong>Required Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household data.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>column::Symbol = :value</code>: The column to be used for the calculation.</li><li><code>output::Symbol = :value</code>: The name of the output column.</li><li><code>parameter::Symbol =</code>:capital<em>tax</em>rate`: The name of the parameter column.</li></ul><p><strong>Returns</strong></p><p>A <code>DataFrame</code> with the capital tax rate for each household type in each region.</p><p><strong>Calculation</strong></p><p>The capital tax rate is calculated as:</p><p class="math-container">\[{\rm Capital\_Tax\_Rate} = \frac{\rm Capital\_Tax}{\rm Capital\_Demand}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L614-L646">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.clean_aggregate_medi_data-Tuple{DataFrames.DataFrame}"><a class="docstring-binding" href="#WiNDCHousehold.clean_aggregate_medi_data-Tuple{DataFrames.DataFrame}"><code>WiNDCHousehold.clean_aggregate_medi_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">clean_aggregate_medi_data(df::DataFrame)</code></pre><p>Cleans Medicare or Medicaid aggregate data DataFrame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/medicare.jl#L61-L65">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.clean_cps_data_year-NTuple{4, Any}"><a class="docstring-binding" href="#WiNDCHousehold.clean_cps_data_year-NTuple{4, Any}"><code>WiNDCHousehold.clean_cps_data_year</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">clean_cps_data_year(year, cps_rw, variables, api_key; state_fips = load_state_fips())</code></pre><p>Clean and process the CPS data for a given year.</p><p><strong>Arguments</strong></p><ul><li><code>year::Int</code>: The year of the CPS data to load.</li><li><code>cps_rw::Vector{String}</code>: The list of CPS raw variables to load</li><li><code>variables::Vector{String}</code>: The list of CPS variables to process.</li><li><code>api_key::String</code>: The Census API key.</li></ul><p><strong>Optional Arguments</strong></p><ul><li><code>state_fips::DataFrame</code>: A DataFrame containing state FIPS codes. Defaults to loading from <code>load_state_fips()</code>.</li></ul><p><strong>Return</strong></p><p>Returns a NamedTuple with the following DataFrames:</p><ul><li><code>income::DataFrame</code>: Income data by household type and state.</li><li><code>count::DataFrame</code>: Count of households by household type and state.</li><li><code>numhh::DataFrame</code>: Number of households by household type and state.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/cps.jl#L43-L66">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.compute_economy_wide_savings-Tuple{WiNDCRegional.State}"><a class="docstring-binding" href="#WiNDCHousehold.compute_economy_wide_savings-Tuple{WiNDCRegional.State}"><code>WiNDCHousehold.compute_economy_wide_savings</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">compute_economy_wide_savings(
        state_table::WiNDCRegional.State
    )</code></pre><p>Compute the economy-wide savings rate based on personal consumption and investment from the <code>state_table</code>.</p><p><strong>Returns</strong></p><ul><li><code>economy_wide_savings::DataFrame</code>: A DataFrame with columns <code>:year</code> and <code>:economy_wide_sr0</code> representing the economy-wide savings rate for each year.</li></ul><p><strong>Computation</strong></p><p class="math-container">\[    {\rm Economy\ Wide\ Savings\ Rate} = \frac{\rm Investment\ Final\ Demand}{\rm Personal\ Consumption + Investment\ Final\ Demand}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L464-L482">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.compute_savings_markup_consumption-Tuple{WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.compute_savings_markup_consumption-Tuple{WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.compute_savings_markup_consumption</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">compute_savings_markup_consumption(
    state_table::WiNDCRegional.State,
    raw_data::RawHouseholdData
)</code></pre><p>Compute the savings markup based on personal consumption from the <code>state_table</code> and CPS data in <code>raw_data</code>.</p><p><strong>Arguments</strong></p><ul><li><code>state_table::WiNDCRegional.State</code>: The state-level WiNDC table.</li><li><code>raw_data::RawHouseholdData</code>: The raw household data containing CPS data.</li></ul><p><strong>Returns</strong></p><ul><li><code>savings_markup_consumption::Float64</code>: The computed savings markup based on consumption.</li></ul><p><strong>Computation</strong></p><p class="math-container">\[    {\rm Savings\ Markup} = \frac{\rm Total\  Personal\ Consumption}{\rm Total\ Consumption}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L595-L618">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.compute_savings_markup_save-Tuple{HouseholdTable, WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.compute_savings_markup_save-Tuple{HouseholdTable, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.compute_savings_markup_save</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">savings_markup_save(
    HH::HouseholdTable,
    raw_data::RawHouseholdData
)</code></pre><p>Compute the savings markup for the household table <code>HH</code> based on the raw CPS data in <code>raw_data</code>.</p><p><strong>Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household table.</li><li><code>raw_data::RawHouseholdData</code>: The raw household data containing CPS data.</li></ul><p><strong>Returns</strong></p><ul><li><code>savings_markup_save::Float64</code>: The computed savings markup.</li></ul><p><strong>Raw Data Used</strong></p><ul><li><code>raw_data.cps_data</code> (CPS interest data)</li><li><a href="#WiNDCHousehold.get_capital_ownership-Tuple{WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.get_capital_ownership</code></a></li></ul><p><strong>Computation</strong></p><p class="math-container">\[    {\rm Savings\ Markup} = \frac{\rm  Gross\ Capital\ Demand}{\rm Total\ Interest}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L544-L572">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.compute_savings_rate-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.compute_savings_rate-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.compute_savings_rate</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">compute_savings_rate(
        HH::HouseholdTable,
        state_table::WiNDCRegional.State,
        raw_data::RawHouseholdData
    )</code></pre><p>Compute the savings rate for each household in <code>HH</code> based on the economy-wide savings rate and the household&#39;s interest income and consumption.</p><p><strong>Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household table.</li><li><code>state_table::WiNDCRegional.State</code>: The state-level WiNDC table.</li><li><code>raw_data::RawHouseholdData</code>: The raw household data containing CPS data.</li></ul><p><strong>Returns</strong></p><ul><li><code>savings_rate::DataFrame</code>: A DataFrame with columns <code>:hh</code>, <code>:year</code>, <code>:state</code>, and <code>:save_rate</code> representing the savings rate for each household.</li></ul><p><strong>Computation</strong></p><p>This computation is broken into several steps:</p><ol><li>Compute the economy-wide savings rate using <a href="#WiNDCHousehold.compute_economy_wide_savings-Tuple{WiNDCRegional.State}"><code>WiNDCHousehold.compute_economy_wide_savings</code></a>.</li><li>Compute the savings markup for savings and consumption using:<ul><li><a href="#WiNDCHousehold.compute_savings_markup_save-Tuple{HouseholdTable, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.compute_savings_markup_save</code></a> and </li><li><a href="#WiNDCHousehold.compute_savings_markup_consumption-Tuple{WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.compute_savings_markup_consumption</code></a>.</li></ul></li><li>Calculate the interest shares and total shares for each household.</li><li>Finally, compute the savings rate for each household using the formula:</li></ol><p class="math-container">\[    {\rm Savings\ Rate}_{hh} = \frac{\rm (Economy\ Wide\ Savings\ Rate) \cdot (Interest\ Share)}{Total\ Share}}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L632-L668">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.consumption_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><a class="docstring-binding" href="#WiNDCHousehold.consumption_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.consumption_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">consumption_data(data::T, output = :DataFrame) where T&lt;:AbstractHouseholdTable</code></pre><p>Extracts consumption-related parameters from the regional data table.</p><pre><code class="language-julia hljs">    table(data, :Personal_Consumption; normalize = :Use)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L364-L372">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.cpi_data-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.cpi_data-Tuple{HouseholdTable}"><code>WiNDCHousehold.cpi_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">cpi_data(HH::HouseholdTable; output = :DataFrame)</code></pre><p>Extracts consumer price index-related parameters from the household data table.</p><pre><code class="language-julia hljs">    table(HH, :Personal_Consumption; normalize=:Use) |&gt;
        x -&gt; groupby(x, [:col, :region, :parameter]) |&gt;
        x -&gt; combine(x, :value =&gt; sum =&gt; :value)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L675-L685">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.cps_vs_nipa_income_categories-Tuple{DataFrames.DataFrame, DataFrames.DataFrame}"><a class="docstring-binding" href="#WiNDCHousehold.cps_vs_nipa_income_categories-Tuple{DataFrames.DataFrame, DataFrames.DataFrame}"><code>WiNDCHousehold.cps_vs_nipa_income_categories</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">cps_vs_nipa_income_categories(cps_income::DataFrame, nipa::DataFrame)</code></pre><p>Compare CPS income data to NIPA data by income categories.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/get_nipa.jl#L42-L47">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.create_personal_consumption-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData, JuMP.Model}"><a class="docstring-binding" href="#WiNDCHousehold.create_personal_consumption-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData, JuMP.Model}"><code>WiNDCHousehold.create_personal_consumption</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">create_personal_consumption(
        HH::HouseholdTable,
        state_table::WiNDCRegional.State,
        raw_data::RawHouseholdData,
        M2::JuMP.Model
    )</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L1109-L1118">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.disposition_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><a class="docstring-binding" href="#WiNDCHousehold.disposition_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.disposition_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">disposition_data(data::T, output = :DataFrame) where T&lt;:AbstractHouseholdTable</code></pre><p>Extracts disposition-related parameters from the regional data table.</p><pre><code class="language-julia hljs">    vcat(
        regional_local_supply(data),
        netports(data),
        total_supply(data),
        regional_national_supply(data)
        )</code></pre><p><strong>Aggregate Data</strong></p><ul><li><a href="#WiNDCHousehold.regional_local_supply-Tuple{HouseholdTable}"><code>WiNDCHousehold.regional_local_supply</code></a></li><li><a href="#WiNDCHousehold.netports-Tuple{HouseholdTable}"><code>WiNDCHousehold.netports</code></a></li><li><a href="#WiNDCHousehold.total_supply-Tuple{HouseholdTable}"><code>WiNDCHousehold.total_supply</code></a></li><li><a href="#WiNDCHousehold.regional_national_supply-Tuple{HouseholdTable}"><code>WiNDCHousehold.regional_national_supply</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L256-L276">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.duty_rate-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.duty_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.duty_rate</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>duty<em>rate(         HH::HouseholdTable;          column::Symbol = :value,          output::Symbol = :value,         parameter = :duty</em>rate,         minimal::Bool = false     )</p><p>Calculate the duty rate for each commodity in each region. The duty rate is defined as the ratio of <code>Duty</code> to <code>Import</code>.</p><p><strong>Required Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The regional data.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>column::Symbol = :value</code>: The column to be used for the calculation.</li><li><code>output::Symbol = :value</code>: The name of the output column.</li><li><code>parameter::Symbol =</code>:duty_rate`: The name of the parameter column.</li><li><code>minimal::Bool = false</code>: Whether to return a minimal output. If true, only the    essential columns are returned: [:col, :region, :year, :parameter, output].</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L324-L349">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.fetch_zip_data-Tuple{String, Function}"><a class="docstring-binding" href="#WiNDCHousehold.fetch_zip_data-Tuple{String, Function}"><code>WiNDCHousehold.fetch_zip_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">fetch_zip_data(
    url::String,
    filter_function::Function;;
    output_path::String = tempname(),
)</code></pre><p>Download a zip file from a given url and extract the files in the zip file that  are in the <code>data</code> NamedTuple.</p><p>This function will throw an error if not all files in <code>data</code> are extracted.</p><p><strong>Required Arguments</strong></p><ol><li><code>url::String</code>: The url of the zip file to download.</li><li><code>filter_function::Function;</code>: A function that takes a string and returns a boolean.  This function is used to filter the files in the zip file, it should return <code>true</code>   if the file should be extracted and <code>false</code> otherwise.</li></ol><p><strong>Optional Arguments</strong></p><ul><li><code>output_path::String</code>: The path to save the extracted files. Default is a </li></ul><p>temporary directory. If this is not an absolute path, it will be joined with the  current working directory.</p><p><strong>Output</strong></p><p>Returns a vector of the absolute paths to the extracted files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/medicare.jl#L1-L30">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.fica_tax_rate-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.fica_tax_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.fica_tax_rate</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">fica_tax_rate(
    HH::HouseholdTable; 
    column::Symbol = :value, 
    output::Symbol = :value,
    parameter = :fica_tax_rate,
)</code></pre><p>Calculate the FICA tax rate for each household type in each region. The FICA tax rate is defined as the ratio of <code>FICA_Tax</code> to <code>Labor_Endowment</code>.</p><p><strong>Required Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household data.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>column::Symbol = :value</code>: The column to be used for the calculation.</li><li><code>output::Symbol = :value</code>: The name of the output column.</li><li><code>parameter::Symbol =</code>:fica<em>tax</em>rate`: The name of the parameter column.</li><li><code>minimal::Bool = false</code>: Whether to return a minimal output. If true, only the    essential columns are returned: [:col, :region, :year, :parameter, output].</li></ul><p><strong>Returns</strong></p><p>A <code>DataFrame</code> with the FICA tax rate for each household type in each region.</p><p><strong>Calculation</strong></p><p>The FICA tax rate is calculated as:</p><p class="math-container">\[{\rm FICA\_Tax\_Rate} = \frac{\rm FICA\_Tax}{\sum_{\rm Destinations} \rm Labor\_Endowment}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L443-L477">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.get_capital_ownership-Tuple{WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.get_capital_ownership-Tuple{WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.get_capital_ownership</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">get_capital_ownership(
    raw_data::RawHouseholdData;
    type::Symbol = :all
)</code></pre><p>Get the capital ownership share from <code>raw_data</code>.</p><p><strong>Arguments</strong></p><ul><li><code>raw_data::RawHouseholdData</code>: The raw household data containing CPS and NIPA data.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>type::Symbol = :all</code>: The type of capital ownership to retrieve. Options are:<ul><li><code>:all</code>: Returns 1 (100% ownership).</li><li><code>:partial</code>: Computes the ownership share based on CPS vs NIPA data.</li></ul></li></ul><p><strong>Returns</strong></p><ul><li><code>cap_own::Float64</code>: The capital ownership share.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L504-L525">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.get_cps_data_api-Tuple{Any, Any, Any}"><a class="docstring-binding" href="#WiNDCHousehold.get_cps_data_api-Tuple{Any, Any, Any}"><code>WiNDCHousehold.get_cps_data_api</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">get_cps_data_api(year, vars, api_key)</code></pre><p>Pull the raw data directly from the API</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/cps.jl#L27-L31">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.government_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><a class="docstring-binding" href="#WiNDCHousehold.government_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.government_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">government_data(data::T, output = :DataFrame) where T&lt;:AbstractHouseholdTable</code></pre><p>Extracts government-related parameters from the regional data table.</p><pre><code class="language-julia hljs">    vcat(
        table(data, 
            :Government_Final_Demand,
            :Transfer_Payment,
            :Labor_Endowment;
            normalize=:Use
        ),
        WiNDCHousehold.government_deficit(data),
        WiNDCHousehold.average_labor_tax_rate(data),
    )</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L564-L581">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.government_deficit-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.government_deficit-Tuple{HouseholdTable}"><code>WiNDCHousehold.government_deficit</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">government_deficit(
    HH::HouseholdTable;
    column::Symbol = :value,
    output::Symbol = :value,
    parameter::Symbol = :government_deficit,
)</code></pre><p>Calculate the government deficit for each year.</p><p><strong>Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household table containing household data.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>column::Symbol</code>: The column to aggregate (default is <code>:value</code>).</li><li><code>output::Symbol</code>: The name of the output column (default is <code>:value</code>).</li><li><code>parameter::Symbol</code>: The parameter to assign to the output (default is <code>:government_deficit</code>).</li></ul><p><strong>Returns</strong></p><p>A <code>DataFrame</code> with the government deficit for each year.</p><p><strong>Calculation</strong></p><p>The government deficit is calculated as:</p><p class="math-container">\[{\rm Government\_Deficit} = - \sum (Government\_Final\_Demand - Transfer\_Payment - Average\_Labor\_Tax - FICA\_Tax - Capital\_Tax - Output\_Tax - Tax - Duty)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L722-L753">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.initialize_table-Tuple{WiNDCRegional.State}"><a class="docstring-binding" href="#WiNDCHousehold.initialize_table-Tuple{WiNDCRegional.State}"><code>WiNDCHousehold.initialize_table</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">initialize_table(state_table::State)</code></pre><p>Create an initial <code>HouseholdTable</code> from a <code>State</code> table by selecting only the  relevant parameters, sets, and elements.</p><p>Essentially, all parameters, sets, and elements are maintained except those related to <code>personal_consumption</code>.</p><p><strong>Parameters Maintained</strong></p><ul><li><code>Capital_Demand</code></li><li><code>Duty</code></li><li><code>Export</code></li><li><code>Government_Final_Demand</code></li><li><code>Household_Supply</code></li><li><code>Import</code></li><li><code>Intermediate_Demand</code></li><li><code>Intermediate_Supply</code></li><li><code>Investment_Final_Demand</code></li><li><code>Labor_Demand</code></li><li><code>Local_Demand</code></li><li><code>Local_Margin_Supply</code></li><li><code>Margin_Demand</code></li><li><code>National_Demand</code></li><li><code>National_Margin_Supply</code></li><li><code>Output_Tax</code></li><li><code>Reexport</code></li><li><code>Tax</code></li></ul><p><strong>Sets Maintained</strong></p><ul><li><code>duty</code>   </li><li><code>export</code></li><li><code>government_final_demand</code></li><li><code>import</code></li><li><code>investment_final_demand</code></li><li><code>local_demand</code></li><li><code>margin</code></li><li><code>national_demand</code></li><li><code>reexport</code></li><li><code>sector</code></li><li><code>tax</code></li><li><code>trade</code></li><li><code>transport</code></li><li><code>state</code></li><li><code>capital_demand</code></li><li><code>commodity</code></li><li><code>labor_demand</code></li><li><code>output_tax</code></li><li><code>year</code></li><li><code>Final_Demand</code></li><li><code>Other_Final_Demand</code></li><li><code>Margin_Supply</code></li><li><code>Use</code></li><li><code>Supply</code></li><li><code>Value_Added</code></li></ul><p><strong>Sets Added</strong></p><ul><li><code>household</code> <ul><li>Domain: <code>col</code></li><li>Description: &quot;Household Categories&quot;</li><li>Elements: <code>hh1</code>, <code>hh2</code>, <code>hh3</code>, <code>hh4</code>, <code>hh5</code></li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L2-L67">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.invest_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><a class="docstring-binding" href="#WiNDCHousehold.invest_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.invest_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">invest_data(data::T, output = :DataFrame) where T&lt;:AbstractHouseholdTable</code></pre><p>Extracts investment-related parameters from the regional data table.</p><pre><code class="language-julia hljs">    table(data, 
        :Investment_Final_Demand,
        :Savings;
        normalize=:Use
    )</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L533-L545">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.labor_endowment_multiplier-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.labor_endowment_multiplier-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.labor_endowment_multiplier</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">labor_endowment_multiplier(
    HH::HouseholdTable,
    state_table::WiNDCRegional.State,
    raw_data::RawHouseholdData
)</code></pre><p>Compute the labor endowment multiplier for each region based on labor demand and wages.</p><p><strong>Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household table.</li><li><code>state_table::WiNDCRegional.State</code>: The state-level WiNDC table.</li><li><code>raw_data::RawHouseholdData</code>: The raw household data containing CPS data.</li></ul><p><strong>Returns</strong></p><ul><li><code>labor_endow_multiplier::DataFrame</code>: A DataFrame with columns <code>:region</code> and <code>:le_mult</code> representing the labor endowment multiplier for each region.</li></ul><p><strong>Computation</strong></p><p>The labor endowment multiplier is computed using the formula:</p><p class="math-container">\[    {\rm Labor\ Endowment\ Multiplier} = \frac{\rm Fringe\ Benefit\ Markup \cdot \rm Wage}{\rm Labor\ Demand}\]</p><p>Changes also made based on commuting patterns to ensure that regions without commuting workers do not have their labor endowment multipliers adjusted beyond 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L796-L827">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.labor_supply-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.labor_supply-Tuple{HouseholdTable}"><code>WiNDCHousehold.labor_supply</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">labor_supply(
    HH::HouseholdTable;
    column::Symbol = :value,
    output::Symbol = :value,
    parameter::Symbol = :labor_supply,
)</code></pre><p>Calculate the labor supply for households. The labor supply is defined as the labor endowment adjusted for marginal labor taxes and FICA taxes.</p><p><strong>Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household table containing household data.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>column::Symbol</code>: The column to aggregate (default is <code>:value</code>).</li><li><code>output::Symbol</code>: The name of the output column (default is <code>:value</code>).</li><li><code>parameter::Symbol</code>: The parameter to assign to the output (default is <code>:labor_supply</code>).</li></ul><p><strong>Returns</strong></p><p>A <code>DataFrame</code> with the aggregated labor supply for each region and year.</p><p><strong>Calculation</strong></p><p>Labor supply is calculated as:</p><p class="math-container">\[{\rm Labor\_Supply} = \sum (Labor\_Endowment - Marginal\_Labor\_Tax - FICA\_Tax)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L1-L32">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.leisure_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><a class="docstring-binding" href="#WiNDCHousehold.leisure_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.leisure_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">leisure_data(data::T, output = :DataFrame) where T&lt;:AbstractHouseholdTable</code></pre><p>Extracts leisure-related parameters from the regional data table.</p><pre><code class="language-julia hljs">   vcat(
        table(data, :Labor_Endowment),
        WiNDCHousehold.labor_supply(data),
        WiNDCHousehold.marginal_labor_tax_rate(data),
        WiNDCHousehold.fica_tax_rate(data)
    )</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L389-L402">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.leisure_demand-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.leisure_demand-Tuple{HouseholdTable}"><code>WiNDCHousehold.leisure_demand</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">leisure_demand(
    HH::HouseholdTable; 
    column::Symbol = :value, 
    output::Symbol = :value,
    parameter = :leisure_demand,
)</code></pre><p>Calculate the leisure demand for households. The leisure demand is defined as a fraction of the leisure supply, based on a labor supply income elasticity, which is set to 0.05.</p><p><strong>Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household table containing household data.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>column::Symbol</code>: The column to aggregate (default is <code>:value</code>).</li><li><code>output::Symbol</code>: The name of the output column (default is <code>:value</code>).</li><li><code>parameter::Symbol</code>: The parameter to assign to the output (default is <code>:leisure_demand</code>).</li></ul><p><strong>Returns</strong></p><p>A <code>DataFrame</code> with the calculated leisure demand for each region and year.</p><p><strong>Calculation</strong></p><p>Leisure demand is calculated as:</p><p class="math-container">\[{\rm Leisure\_Demand} = \epsilon \cdot {\rm Leisure\_Supply}\]</p><p>where ( \epsilon ) is the labor supply income elasticity (0.05).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L560-L594">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.load_acs_data_api-Tuple{Int64, Any}"><a class="docstring-binding" href="#WiNDCHousehold.load_acs_data_api-Tuple{Int64, Any}"><code>WiNDCHousehold.load_acs_data_api</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">load_acs_data_api(year::Int, census_api_key; output_path::String = tempname())</code></pre><p>Pull the raw ACS commuting flow data directly from the Census website for a given year.</p><p>Return a DataFrame with the commuting flow data for the specified year, enriched  with income data from the CPS.</p><p><strong>Arguments</strong></p><ul><li><code>year::Int</code>: The year of the ACS data to load.</li><li><code>census_api_key::String</code>: The Census API key.</li></ul><p><strong>Optional Arguments</strong></p><ul><li><code>output_path::String</code>: The path to save the downloaded ACS data. Default is a temporary directory.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/get_acs.jl#L1-L17">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.load_acs_medicare_data-Tuple{String}"><a class="docstring-binding" href="#WiNDCHousehold.load_acs_medicare_data-Tuple{String}"><code>WiNDCHousehold.load_acs_medicare_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">load_acs_medicare_data(
    census_api_key::String;
    years::Vector{Int} = 2009:2024,
    state_fips::DataFrame = load_state_fips()
)</code></pre><p>Load ACS Medicare data from the Census API for the specified years.</p><p><strong>Required Arguments</strong></p><ul><li><code>census_api_key::String</code>: The Census API key.</li></ul><p><strong>Optional Arguments</strong></p><ul><li><code>years::Vector{Int}</code>: The years of the ACS data to load. Default is 2009 to 2024.</li><li><code>state_fips::DataFrame</code>: A DataFrame containing state FIPS codes. Default is   the result of <code>load_state_fips()</code>.</li></ul><div class="admonition is-info" id="Excluded-2020-c96eaf755cd0d34d"><header class="admonition-header">Excluded 2020<a class="admonition-anchor" href="#Excluded-2020-c96eaf755cd0d34d" title="Permalink"></a></header><div class="admonition-body"><p>The year 2020 is excluded from the default years because the ACS data for that year does not include Medicare data due to low response rates. </p></div></div><div class="admonition is-info" id="Early-years?-61e7c3d99380f85c"><header class="admonition-header">Early years?<a class="admonition-anchor" href="#Early-years?-61e7c3d99380f85c" title="Permalink"></a></header><div class="admonition-body"><p>Currently we don&#39;t have data before 2009, so requesting years before. We should update this to just use 2009 data for earlier years.</p></div></div><p><strong>Return</strong></p><p>Returns a DataFrame with shares of income groups for Medicare enrollment by state  and year.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/medicare.jl#L141-L172">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.load_capital_tax_rates-Tuple{String}"><a class="docstring-binding" href="#WiNDCHousehold.load_capital_tax_rates-Tuple{String}"><code>WiNDCHousehold.load_capital_tax_rates</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">load_capital_tax_rates(
    path::String;
    state_abbreviations = WiNDCHousehold.load_state_fips(cols_to_keep = [:state, :abbreviation])
)</code></pre><p>Load capital tax rates from a CSV file located at <code>path</code>. The CSV is expected to contain state-level capital tax rate information, which will be matched with state abbreviations provided by <code>state_abbreviations</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/tax_rates.jl#L28-L37">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.load_cps_data_api-Tuple{Any}"><a class="docstring-binding" href="#WiNDCHousehold.load_cps_data_api-Tuple{Any}"><code>WiNDCHousehold.load_cps_data_api</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">load_cps_data_api(api_key; years = 2001:2022)</code></pre><p>Load all the CPS data in the given year range. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/cps.jl#L120-L124">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.load_labor_tax_rates-Tuple{String}"><a class="docstring-binding" href="#WiNDCHousehold.load_labor_tax_rates-Tuple{String}"><code>WiNDCHousehold.load_labor_tax_rates</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">load_labor_tax_rates(
        path::String;
        state_abbreviations = WiNDCHousehold.load_state_fips(cols_to_keep = [:state, :abbreviation])
    )</code></pre><p>Load labor tax rates from a CSV file located at <code>path</code>. The CSV is expected to  contain state-level labor tax rate information, which will be matched with state  abbreviations provided by <code>state_abbreviations</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/tax_rates.jl#L1-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.load_medicare_data-Tuple{String}"><a class="docstring-binding" href="#WiNDCHousehold.load_medicare_data-Tuple{String}"><code>WiNDCHousehold.load_medicare_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">load_medicare_data(path::String; years::UnitRange{Int}=2009:2024)</code></pre><p>Load Medicare or Medicaid data from a CSV file at the given path.</p><p><strong>Required Arguments</strong></p><ul><li><code>path::String</code>: The path to the CSV file.</li></ul><p><strong>Optional Arguments</strong></p><ul><li><code>years::UnitRange{Int}</code>: The range of years to include in the data. Default is 2009 to 2024.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/medicare.jl#L245-L257">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.load_nipa_data_api-Tuple{Vector{Int64}, Any}"><a class="docstring-binding" href="#WiNDCHousehold.load_nipa_data_api-Tuple{Vector{Int64}, Any}"><code>WiNDCHousehold.load_nipa_data_api</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">load_nipa_data_api(years::Vector{Int}, bea_api_key)</code></pre><p>Pull the raw data directly from the API</p><p>Return a DataFrame with the NIPA data for the specified years.</p><p><strong>Arguments</strong></p><ul><li><code>years::Vector{Int}</code>: The years of the NIPA data to load.</li><li><code>bea_api_key::String</code>: The BEA API key.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/get_nipa.jl#L1-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.load_state_fips-Tuple{}"><a class="docstring-binding" href="#WiNDCHousehold.load_state_fips-Tuple{}"><code>WiNDCHousehold.load_state_fips</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">load_state_fips(;
        path = joinpath(@__DIR__, &quot;maps&quot;, &quot;state_fips.csv&quot;),
        cols_to_keep = [:fips, :state]
    )</code></pre><p>Load a CSV file containing state FIPS codes and state names. The default path is set to <code>maps/state_fips.csv</code> relative to this file&#39;s directory. You can specify which columns to keep using the <code>cols_to_keep</code> argument.</p><p>Returns a DataFrame with the specified columns as Strings.</p><p><strong>Optional Arguments</strong></p><ul><li><code>path::String</code>: Path to the state FIPS CSV file.</li><li><code>cols_to_keep::Vector{Symbol}</code>: Columns to keep from the CSV file. Default is <code>[:fips, :state]</code>.</li></ul><p>It is recommended to keep the columns <code>:fips</code> and <code>:state</code> for proper mapping.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/maps.jl#L1-L19">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.margin_supply_demand-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><a class="docstring-binding" href="#WiNDCHousehold.margin_supply_demand-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.margin_supply_demand</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">margin_supply_demand(data::T, output = :DataFrame) where T&lt;:AbstractHouseholdTable</code></pre><p>Extracts margin supply and demand parameters from the regional data table.</p><pre><code class="language-julia hljs">    table(data, :Margin_Demand, :Margin_Supply; normalize = :Use)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L339-L347">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.marginal_labor_tax_rate-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.marginal_labor_tax_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.marginal_labor_tax_rate</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">marginal_labor_tax_rate(
    HH::HouseholdTable; 
    column::Symbol = :value, 
    output::Symbol = :value,
    parameter = :marginal_labor_tax_rate,
    minimal::Bool = false
)</code></pre><p>Calculate the marginal labor tax rate for each household type in each region. The marginal labor tax rate is defined as the ratio of <code>Marginal_Labor_Tax</code> to <code>Labor_Endowment</code>.</p><p><strong>Required Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household data.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>column::Symbol = :value</code>: The column to be used for the calculation.</li><li><code>output::Symbol = :value</code>: The name of the output column.</li><li><code>parameter::Symbol =</code>:marginal<em>labor</em>tax_rate`: The name of the parameter column.</li><li><code>minimal::Bool = false</code>: Whether to return a minimal output. If true, only the    essential columns are returned: [:col, :region, :year, :parameter, output].</li></ul><p><strong>Returns</strong></p><p>A <code>DataFrame</code> with the marginal labor tax rate for each household type in each region.</p><p><strong>Calculation</strong></p><p>The marginal labor tax rate is calculated as:</p><p class="math-container">\[{\rm Marginal\_Labor\_Tax\_Rate} = \frac{\rm Marginal\_Labor\_Tax}{\sum_{\rm Destinations} \rm Labor\_Endowment}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L377-L412">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.netports-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.netports-Tuple{HouseholdTable}"><code>WiNDCHousehold.netports</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">netports(
    HH::HouseholdTable;
    column::Symbol = :value,
    output::Symbol = :value,
    parameter::Symbol = :netport,
    minimal::Bool = false
)</code></pre><p>Calculate the netports for each commodity in each region. The netport is defined as the difference between <code>Export</code> and <code>Reexport</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L134-L145">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.nipa_fringe_benefit_markup-Tuple{DataFrames.DataFrame}"><a class="docstring-binding" href="#WiNDCHousehold.nipa_fringe_benefit_markup-Tuple{DataFrames.DataFrame}"><code>WiNDCHousehold.nipa_fringe_benefit_markup</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">nipa_fringe_benefit_markup(nipa::DataFrame)</code></pre><p>Calculate the fringe benefit markup from NIPA data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/get_nipa.jl#L123-L127">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.other_income-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.other_income-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.other_income</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">other_income(
    HH::HouseholdTable,
    state_table::WiNDCRegional.State,
    raw_data::RawHouseholdData
)</code></pre><p>Compute the other income for each household in <code>HH</code> based on adjusted consumption, adjusted wages, transfer payments, and adjusted capital income.</p><p><strong>Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The household table.</li><li><code>state_table::WiNDCRegional.State</code>: The state-level WiNDC table.</li><li><code>raw_data::RawHouseholdData</code>: The raw household data containing CPS data.</li></ul><p><strong>Returns</strong></p><ul><li><code>other_income::DataFrame</code>: A DataFrame with columns <code>:hh</code>, <code>:year</code>, <code>:state</code>, and <code>:income</code> representing the other income for each household.</li></ul><p><strong>Computation</strong></p><p>The other income is computed using the formula:</p><p class="math-container">\[    {\rm Other\ Income} = {\rm Adjusted\ Consumption} + {\rm Adjusted\ Wages} - {\rm Average\ Transfer\ Payments} - {\rm Adjusted\ Capital\ Income}\]</p><p>where:</p><ul><li><code>Adjusted Consumption</code> is obtained from <a href="#WiNDCHousehold.adjusted_consumption-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.adjusted_consumption</code></a>.</li><li><code>Adjusted Wages</code> is obtained from <a href="#WiNDCHousehold.adjusted_wages-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.adjusted_wages</code></a>.</li><li><code>Average Transfer Payments</code> the average over households and states of the <code>Transfer_Payment</code> parameter in <code>HH</code>.</li><li><code>Adjusted Capital Income</code> is obtained from <a href="#WiNDCHousehold.adjusted_capital_income-Tuple{HouseholdTable, WiNDCRegional.State, WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.adjusted_capital_income</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L1034-L1069">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.output_tax_rate-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.output_tax_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.output_tax_rate</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">output_tax_rate(
        HH::HouseholdTable; 
        column::Symbol = :value, 
        output::Symbol = :value,
        parameter = :output_tax_rate,
        minimal::Bool = false
    )</code></pre><p>Calculate the output tax rate for each commodity in each region. The output tax rate is defined as the ratio of <code>Output_Tax</code> to the sum over commodities of <code>Intermediate_Supply</code>.</p><p><strong>Required Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The regional data.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>column::Symbol = :value</code>: The column to be used for the calculation.</li><li><code>output::Symbol = :value</code>: The name of the output column.</li><li><code>parameter::Symbol =</code>:output<em>tax</em>rate`: The name of the parameter column.</li><li><code>minimal::Bool = false</code>: Whether to return a minimal output. If true, only the    essential columns are returned: [:col, :region, :year, :parameter, output].</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L216-L239">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.regional_local_supply-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.regional_local_supply-Tuple{HouseholdTable}"><code>WiNDCHousehold.regional_local_supply</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">regional_local_supply(
    HH::HouseholdTable;
    column::Symbol = :value,
    output::Symbol = :value,
    parameter::Symbol = :region_local_supply,
    minimal::Bool = false
)</code></pre><p>Calculate the regional local supply for each commodity in each region. The regional local supply is defined as the sum of <code>Local_Margin_Supply</code> and <code>Local_Demand</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L98-L109">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.regional_national_supply-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.regional_national_supply-Tuple{HouseholdTable}"><code>WiNDCHousehold.regional_national_supply</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">regional_national_supply(
    HH::HouseholdTable;
    column::Symbol = :value,
    output::Symbol = :value,
    parameter::Symbol = :region_national_supply,
    minimal::Bool = false
)</code></pre><p>Calculate the regional national supply for each commodity in each region. The regional national supply is defined as total supply minus net exports minus regional local supply.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L171-L183">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.representative_agent_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><a class="docstring-binding" href="#WiNDCHousehold.representative_agent_data-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.representative_agent_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">representative_agent_data(data::T, output = :DataFrame) where T&lt;:AbstractHouseholdTable</code></pre><p>Extracts representative agent-related parameters from the regional data table.</p><pre><code class="language-julia hljs">    vcat(
        leisure_consumption_elasticity(data),
        average_labor_tax_rate(data),
        labor_supply(data),
        leisure_demand(data),
        table(data, 
            :Personal_Consumption,
            :Household_Interest,
            :Transfer_Payment,
            :Savings,
            :Labor_Endowment;
            normalize=:Use
        )
    )</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L450-L471">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.saverate_data-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.saverate_data-Tuple{HouseholdTable}"><code>WiNDCHousehold.saverate_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">saverate_data(HH::HouseholdTable; output = :DataFrame)</code></pre><p>Extracts saving rate-related parameters from the household data table.</p><pre><code class="language-julia hljs">    table(HH, :Investment_Final_Demand; normalize=:Use)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L629-L637">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.sectoral_output-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><a class="docstring-binding" href="#WiNDCHousehold.sectoral_output-Tuple{T} where T&lt;:WiNDCHousehold.AbstractHouseholdTable"><code>WiNDCHousehold.sectoral_output</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">sectoral_output(data::T, output = :DataFrame) where T&lt;:AbstractHouseholdTable</code></pre><p>Extracts sectoral output-related parameters from the regional data table.</p><pre><code class="language-julia hljs">
vcat(
    table(data, 
        :Intermediate_Supply, 
        :Intermediate_Demand, 
        :Labor_Demand, 
        :Capital_Demand;
        normalize = :Use
        ),
    output_tax_rate(data),
    capital_tax_rate(data)
    )</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L208-L227">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.ssk_data-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.ssk_data-Tuple{HouseholdTable}"><code>WiNDCHousehold.ssk_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">ssk_data(HH::HouseholdTable; output = :DataFrame)</code></pre><p>Extracts steady-state capital stock-related parameters from the household data table.</p><pre><code class="language-julia hljs">    table(HH, :Investment_Final_Demand; normalize=:Use)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L606-L614">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.tax_rate-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.tax_rate-Tuple{HouseholdTable}"><code>WiNDCHousehold.tax_rate</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">tax_rate(
    HH::HouseholdTable; 
    column::Symbol = :value, 
    output::Symbol = :value,
    parameter = :tax_rate,
    minimal::Bool = false
)</code></pre><p>Calculate the tax rate for each commodity in each region. The tax rate is defined as the ratio of <code>Tax</code> to <code>Absorption</code>.</p><p><strong>Required Arguments</strong></p><ul><li><code>HH::HouseholdTable</code>: The regional data.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>column::Symbol = :value</code>: The column to be used for the calculation.</li><li><code>output::Symbol = :value</code>: The name of the output column.</li><li><code>parameter::Symbol =</code>:tax_rate`: The name of the parameter column.</li><li><code>minimal::Bool = false</code>: Whether to return a minimal output. If true, only the    essential columns are returned: [:col, :region, :year, :parameter, output].</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L270-L293">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.total_supply-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.total_supply-Tuple{HouseholdTable}"><code>WiNDCHousehold.total_supply</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">total_supply(data::HouseholdTable; column::Symbol = :value, output::Symbol = :value)</code></pre><p>Calculate the total supply for each commodity. The total supply is defined as the sum of:</p><ul><li><code>Intermediate_Supply</code></li><li><code>Household_Supply</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/aggregate_parameters.jl#L53-L60">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.trans_data-Tuple{HouseholdTable}"><a class="docstring-binding" href="#WiNDCHousehold.trans_data-Tuple{HouseholdTable}"><code>WiNDCHousehold.trans_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">trans_data(HH::HouseholdTable; output = :DataFrame)</code></pre><p>Extracts transfer-related parameters from the household data table.</p><pre><code class="language-julia hljs">    table(HH, :Government_Final_Demand; normalize=:Use)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/model.jl#L652-L660">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.transfer_weights-Tuple{WiNDCHousehold.RawHouseholdData}"><a class="docstring-binding" href="#WiNDCHousehold.transfer_weights-Tuple{WiNDCHousehold.RawHouseholdData}"><code>WiNDCHousehold.transfer_weights</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">transfer_weights(raw_data::RawHouseholdData)</code></pre><p>Compute transfer weights based on the CPS vs NIPA comparison in <code>raw_data</code>.</p><p>Transfer weight is defined as the ratio of NIPA transfer income to CPS transfer income for each transfer category. If the CPS income for a category is zero, the weight from either the Meyer or Rothbaum study is used as a fallback.</p><p><strong>Transfer Categories</strong></p><table><tr><th style="text-align: right">Category</th><th style="text-align: right">Source</th></tr><tr><td style="text-align: right">government benefits: unemployment insurance</td><td style="text-align: right">hucval</td></tr><tr><td style="text-align: right">government benefits: social security</td><td style="text-align: right">hssval</td></tr><tr><td style="text-align: right">government benefits: social security</td><td style="text-align: right">hssival</td></tr><tr><td style="text-align: right">government benefits: social security</td><td style="text-align: right">hdisval</td></tr><tr><td style="text-align: right">government benefits: veterans&#39; benefits</td><td style="text-align: right">hvetval</td></tr></table><p><strong>Meyer and Rothbaum Weights</strong></p><table><tr><th style="text-align: right">Source</th><th style="text-align: right">Literature</th><th style="text-align: right">Value</th></tr><tr><td style="text-align: right">hucval</td><td style="text-align: right">meyer</td><td style="text-align: right">1/0.679</td></tr><tr><td style="text-align: right">hssval</td><td style="text-align: right">meyer</td><td style="text-align: right">1/0.899</td></tr><tr><td style="text-align: right">hssival</td><td style="text-align: right">meyer</td><td style="text-align: right">1/0.759</td></tr><tr><td style="text-align: right">hdisval</td><td style="text-align: right">meyer</td><td style="text-align: right">1/0.819</td></tr><tr><td style="text-align: right">hvetval</td><td style="text-align: right">rothbaum</td><td style="text-align: right">1/0.679</td></tr><tr><td style="text-align: right">hwcval</td><td style="text-align: right">meyer</td><td style="text-align: right">1 / 0.527</td></tr><tr><td style="text-align: right">hpawval</td><td style="text-align: right">meyer</td><td style="text-align: right">1 / 0.487</td></tr><tr><td style="text-align: right">hsurval</td><td style="text-align: right">meyer</td><td style="text-align: right">1 / 0.908</td></tr><tr><td style="text-align: right">hedval</td><td style="text-align: right">rothbaum</td><td style="text-align: right">1 / 0.804</td></tr><tr><td style="text-align: right">hcspval</td><td style="text-align: right">rothbaum</td><td style="text-align: right">1 / 0.804</td></tr><tr><td style="text-align: right">hfinval</td><td style="text-align: right">meyer</td><td style="text-align: right">1 / 0.539</td></tr></table><div class="admonition is-info" id="note-6b3d523c125b58bf"><header class="admonition-header"><a class="admonition-anchor" href="#note-6b3d523c125b58bf" title="Permalink"></a></header><div class="admonition-body"><p>The values are hard coded based on literature and may need to be updated as new studies emerge. Also, the year is fixed at 2024 for these weights. Need to update for more years in the future.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/build.jl#L262-L300">source</a></section></details></article><article><details class="docstring" open="true"><summary id="WiNDCHousehold.windc_vs_nipa_income_categories-Tuple{WiNDCRegional.State, DataFrames.DataFrame}"><a class="docstring-binding" href="#WiNDCHousehold.windc_vs_nipa_income_categories-Tuple{WiNDCRegional.State, DataFrames.DataFrame}"><code>WiNDCHousehold.windc_vs_nipa_income_categories</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">windc_vs_nipa_income_categories(
    state_table::WiNDCRegional.State,
    nipa::DataFrame
)</code></pre><p>Compare WiNDC labor and capital income to NIPA data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uw-windc/WiNDCHousehold.jl/blob/8173c6ddffc0ac0e79b88babac9e98a7e6d11a75/src/data/get_nipa.jl#L89-L96">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« WiNDCHousehold</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 30 December 2025 20:19">Tuesday 30 December 2025</span>. Using Julia version 1.12.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
